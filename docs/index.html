<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fastSF: &lt;tt&gt;fastSF&lt;/tt&gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">fastSF
   </div>
   <div id="projectbrief">Structurefunctions</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><code>fastSF</code> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> <code>fastSF</code> is an open source hybrid parallel C++ code to compute structure functions for a given velocity or scalar field.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
Getting the Source Code</h1>
<p><code>fastSF</code> is hosted on GitHub. You can download the source code from the following link:</p>
<p><a href="https://github.com/ShubhadeepSadhukhan1993/fastSF">https://github.com/ShubhadeepSadhukhan1993/fastSF</a></p>
<h1><a class="anchor" id="autotoc_md12"></a>
Installing &lt;tt&gt;fastSF&lt;/tt&gt;</h1>
<h2><a class="anchor" id="autotoc_md13"></a>
Required Libraries</h2>
<p>The following libraries are required for installing and running fastSF:</p>
<ol type="1">
<li><a href="https://cmake.org/download/"><code>CMake</code></a> (Version 3.16.4)</li>
<li><a href="https://github.com/blitzpp/blitz"><code>Blitz++</code></a> (Version 1.0.2)</li>
<li><a href="http://turbulencehub.org/index.php/codes/tarang/installing-tarang/"><code>YAML-cpp</code></a>(Version 0.3.0)</li>
<li><a href="https://www.mpich.org/downloads/"><code>MPICH</code></a>(Version 3.3.2)</li>
<li><a href="http://turbulencehub.org/index.php/codes/tarang/installing-tarang/"><code>HDF5</code></a>(Version 1.8.20)</li>
<li><a href="https://github.com/anandogc/h5si"><code>H5SI</code></a>(Version 1.1.1)</li>
</ol>
<p>Clicking on one of the above libraries will redirect you to the webpage that provides instructions for downloading and installation of that library.</p>
<p>IMPORTANT:</p>
<ul>
<li>Note that <code>fastSF</code> is not compatible with higher versions <code>YAML-cpp</code>(&gt; 0.3.0).</li>
<li>The library <code>H5SI</code>has been successfully tested with <code>HDF5</code> version 1.8.20. However, <code>H5SI</code> may not be compatible with higher versions of <code>HDF5</code>. Thus, the users are strongly recommended to install <code>HDF5</code> 1.8.20. <br  />
</li>
</ul>
<h2><a class="anchor" id="autotoc_md14"></a>
Compiling instruction</h2>
<p>After downloading <code>fastSF</code>, change into <code>fastSF/src</code> directory and run the command <code>make</code> in the terminal. An executable named <code>fastSF.out</code> will be created inside the <code>fastSF/src</code> folder.</p>
<h1><a class="anchor" id="autotoc_md15"></a>
Testing &lt;tt&gt;fastSF&lt;/tt&gt;</h1>
<p><code>fastSF</code> offers an automated testing process to validate the code. The relevant test scripts can be found in the <code>tests/</code> folder of the code. To execute the tesing process, change into <code>fastSF</code> and run the command</p>
<p><code>bash runTest.sh</code>.</p>
<p>The code then runs four test cases; these are as follows.</p>
<ul>
<li>In the first case, the code will generate a 2D velocity field given by <b>u</b> = [<em>x, z</em>], and compute the structure functions for the given field. For this case, the longitudinal structure functions should equal <em>l<sup>q</sup></em>.</li>
<li>In the second case, the code will generate a 2D scalar field given by <em>T = x + z</em>, and compute the structure functions for the given field. For this case, the structure functions should equal *(l<sub>x</sub> + l<sub>z</sub>)<sup>q</sup>*.</li>
<li>In the third case, the code will generate a 3D velocity field given by <b>u</b> = [<em>x, y, z</em>], and compute the structure functions for the given field. For this case, the longitudinal structure functions should equal <em>l<sup>q</sup></em>.</li>
<li>In the fourth case, the code will generate a 3D scalar field given by <em>T = x + y + z</em>, and compute the structure functions for the given field. For this case, the structure functions should equal *(l<sub>x</sub> + l<sub>y</sub> + l<sub>z</sub>)<sup>q</sup>*.</li>
</ul>
<p>For the above cases, <code>fastSF</code> will compare the computed structure functions with the analytical results. If the percentage difference between the two values is less than 10<sup>-10</sup>, the code is deemed to have passed.</p>
<p>Finally, for visualization purpose, the python script <code><a class="el" href="test_8py.html" title="fastSF">test/test.py</a></code> is invoked. This script generates the plots of the second and third-order longitudinal structure functions versus <em>l</em>, and the density plots of the computed second-order scalar structure functions and *(l<sub>x</sub> + l<sub>z</sub>)<sup>2</sup>*. For the 3D scalar field, the density plots of the computed second-order scalar structure functions and *(l<sub>x</sub> + l<sub>y</sub> + l<sub>z</sub>)<sup>2</sup>* are generated. These plots demonstrate that the structure functions are computed accurately. Note that the following python modules are needed to run the test script successfully:</p>
<ol type="1">
<li><code>h5py</code></li>
<li><code>numpy</code></li>
<li><code>matplotlib</code></li>
</ol>
<h1><a class="anchor" id="autotoc_md16"></a>
Detailed instruction for running &lt;tt&gt;fastSF&lt;/tt&gt;</h1>
<p>This section provides a detailed procedure to execute <code>fastSF</code> for a given velocity or scalar field.</p>
<p><code>fastSF</code> has a folder named <code>in</code>. This folder contains the input field files in <code>hdf5</code> format, and a parameters file named <code>para.yaml</code>. You need to provide the required input parameters in this file. The details of the entries are as follows:</p>
<h2><a class="anchor" id="autotoc_md17"></a>
i) &lt;tt&gt;para.yaml&lt;/tt&gt; details</h2>
<h3><a class="anchor" id="autotoc_md18"></a>
&lt;tt&gt;program: scalar_switch&lt;/tt&gt;</h3>
<p>You can enter <code>true</code> or <code>false</code></p>
<p><code>true</code>: Calculate the structure function for a given scalar field.</p>
<p><code>false</code>: Calculate the structure function for a given velocity field.</p>
<h3><a class="anchor" id="autotoc_md19"></a>
&lt;tt&gt;program: 2D_switch&lt;/tt&gt;</h3>
<p>You can enter <code>true</code> or <code>false</code>.</p>
<p><code>true</code>: Calculate the structure function for two dimensional fields.</p>
<p><code>false</code>: Calculate the structure function for three dimensional fields.</p>
<h3><a class="anchor" id="autotoc_md20"></a>
&lt;tt&gt;program: Only_logitudinal&lt;/tt&gt;</h3>
<p>This entry is for structure functions for velocity fields only. You can enter <code>true</code> or <code>false</code>.</p>
<p><code>true</code>: Compute only the longitudinal structure function.</p>
<p><code>false</code>: Compute both longitudinal and transverse structure functions.</p>
<h3><a class="anchor" id="autotoc_md21"></a>
&lt;tt&gt;grid: Nx, Ny, Nz&lt;/tt&gt;</h3>
<p>The number of points along <em>x</em>, <em>y</em>, and <em>z</em> direction respectively of the grid. Valid for both the vector and scalar fields. For two dimensional fields you need to provide <code>Nx</code> and <code>Nz</code>.</p>
<p>Only integer values will be accepted.</p>
<h3><a class="anchor" id="autotoc_md22"></a>
&lt;tt&gt;domain_dimension: Lx, Ly, Lz&lt;/tt&gt;</h3>
<p>Length of the cubical box along <em>x</em>, <em>y</em>, and <em>z</em> direction respectively. For two dimensional fields, you need to provide <code>Lx</code> and <code>Lz</code>.</p>
<h3><a class="anchor" id="autotoc_md23"></a>
&lt;tt&gt;structure_function: q1, q2&lt;/tt&gt;</h3>
<p>The lower and the upper limit of the order of the structure functions to be computed.</p>
<h3><a class="anchor" id="autotoc_md24"></a>
&lt;tt&gt;test: test_switch&lt;/tt&gt;</h3>
<p>You can enter <code>true</code> or <code>false</code></p>
<p><code>true</code>: For running in test mode. Idealized velocity and scalar fields are generated internally by the code. Computed structure functions are compared with analytical results. The code is PASSED if the percentage difference between the two results is less than <code>1e-10</code>.</p>
<p><code>false</code>: The "regular" mode, in which the code reads the fields from the hdf5 files in the <code>in</code> folder.</p>
<h2><a class="anchor" id="autotoc_md25"></a>
ii) Files Required:</h2>
<p>All the files storing the input fields should be inside the <code>in</code> folder.</p>
<h3><a class="anchor" id="autotoc_md26"></a>
For two dimensional fields</h3>
<p>For vector field, two files named as <code>U.V1r.h5</code> and <code>U.V3r.h5</code> are required. Each file has one dataset.</p>
<p>For scalar field, one file named as <code>T.Fr.h5</code> is required. Each file has one dataset.</p>
<p>Size of the array stored in these files should be (<code>Nx,Nz</code>).</p>
<p><em>Important:</em> Dataset name should be the same as the file name. For example, the dataset inside the file <code>U.V1r.h5</code> should be named <code>U.V1r</code>.</p>
<h3><a class="anchor" id="autotoc_md27"></a>
For three dimensional fields</h3>
<p>For vector field, three files named as <code>U.V1r.h5</code>, <code>U.V2r.h5</code>, and <code>U.V3r.h5</code> are required. Each file has one dataset.</p>
<p>For scalar field, one file named as <code>T.Fr.h5</code> is required. Each file has one dataset.</p>
<p>Size of the array stored in these files should be (<code>Nx, Ny, Nz</code>).</p>
<p><em>Important:</em> Dataset name should be the same as the file name. For example, the dataset inside the file <code>U.V1r.h5</code> should be named <code>U.V1r</code>.</p>
<h2><a class="anchor" id="autotoc_md28"></a>
iii) Running Instructions</h2>
<p>Open the terminal change into <code>fastSF/in</code> folder. Open <code>para.yaml</code> to set all the parameters. Keep all the required files compatible with the parameter file. Now, move out of the <code>in</code> folder run the command</p>
<p><code>mpirun -np [number of MPI processors] src/fastSF.out [number of processors in x direction]</code></p>
<p>If the number of processors in x direction is not provided, the code will take it to be 1.</p>
<h2><a class="anchor" id="autotoc_md29"></a>
iii) Output Information</h2>
<p><b>Velocity structure functions</b>:</p>
<p>The logitudinal and transverse structure functions of order <code>q</code> are stored in the files <code>SF_Grid_pll</code>+<code>q</code>+<code>.h5</code> and <code>SF_Grid_perp</code>+<code>q</code>+<code>.h5</code> respectively as two/three dimensional arrays for two/three dimensional input fields.</p>
<p><b>Scalar structure functions</b>:</p>
<p>The structure functions of order <code>q</code> are stored in the files <code>SF_Grid_pll</code>+<code>q</code>+<code>.h5</code> as two/three dimensional arrays for two/three dimensional input fields.</p>
<h1><a class="anchor" id="autotoc_md30"></a>
Documentation</h1>
<p>The documentation can be found in <code>fastSF/docs/index.html</code></p>
<h1><a class="anchor" id="autotoc_md31"></a>
Contributions and Bug Reports</h1>
<p>We welcome contributions to this project. If you wish to contribute, please create a branch with a <a href="https://github.com/ShubhadeepSadhukhan1993/fastSF/pulls">pull request</a> and the changes can be discussed there.</p>
<p>If you find a bug in the or errors in the documentation, please open a <a href="https://github.com/ShubhadeepSadhukhan1993/fastSF/issues/new">new issue</a> in the Github repository and report the bug or the error. Please provide sufficient information for the bug to be reproduced. <br  />
</p>
<h1><a class="anchor" id="autotoc_md32"></a>
License</h1>
<p><code>fastSF</code> is released under the terms of BSD New License. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 9 2020 11:01:39 for fastSF by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
